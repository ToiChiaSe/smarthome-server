<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Smart Home Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <div class="container">
    <h1>Smart Home Dashboard</h1>

    <!-- ============================
         C·∫¢M BI·∫æN
    ============================= -->
    <section class="card">
      <h2>Th√¥ng s·ªë c·∫£m bi·∫øn</h2>
      <div class="sensor-grid">
        <div class="sensor-box">
          <span>Nhi·ªát ƒë·ªô</span>
          <h3 id="temp">-- ¬∞C</h3>
        </div>
        <div class="sensor-box">
          <span>ƒê·ªô ·∫©m</span>
          <h3 id="hum">-- %</h3>
        </div>
        <div class="sensor-box">
          <span>√Ånh s√°ng</span>
          <h3 id="lux">-- lux</h3>
        </div>
      </div>
    </section>

    <!-- ============================
         TR·∫†NG TH√ÅI THI·∫æT B·ªä
    ============================= -->
    <section class="card">
      <h2>Tr·∫°ng th√°i thi·∫øt b·ªã</h2>
      <div class="status-grid">
        <div class="status-item"><span>LED1:</span> <span id="st-led1">--</span></div>
        <div class="status-item"><span>LED2:</span> <span id="st-led2">--</span></div>
        <div class="status-item"><span>LED3:</span> <span id="st-led3">--</span></div>
        <div class="status-item"><span>LED4:</span> <span id="st-led4">--</span></div>
        <div class="status-item"><span>Qu·∫°t:</span> <span id="st-fan">--</span></div>
        <div class="status-item"><span>R√®m:</span> <span id="st-curtain">--</span></div>
        <div class="status-item"><span>Auto Mode:</span> <span id="auto-mode-label">--</span></div>
        <div class="status-item"><span>H√†nh ƒë·ªông cu·ªëi:</span> <span id="st-last">--</span></div>
      </div>
    </section>

    <!-- ============================
         ƒêI·ªÄU KHI·ªÇN LED + QU·∫†T
    ============================= -->
    <section class="card">
      <h2>ƒêi·ªÅu khi·ªÉn ƒë√®n & qu·∫°t</h2>
      <div class="control-grid">
        <button class="ctrl-btn" onclick="toggleLed('led1')">LED 1</button>
        <button class="ctrl-btn" onclick="toggleLed('led2')">LED 2</button>
        <button class="ctrl-btn" onclick="toggleLed('led3')">LED 3</button>
        <button class="ctrl-btn" onclick="toggleLed('led4')">LED 4</button>
        <button class="ctrl-btn wide" onclick="toggleFan()">Qu·∫°t</button>
      </div>
    </section>

    <!-- ============================
         ƒêI·ªÄU KHI·ªÇN R√àM
    ============================= -->
    <section class="card">
      <h2>ü™ü ƒêi·ªÅu khi·ªÉn r√®m</h2>
      <div class="control-grid">
        <button class="ctrl-btn" onclick="curtainCmd('OPEN')">M·ªü</button>
        <button class="ctrl-btn" onclick="curtainCmd('STOP')">D·ª´ng</button>
        <button class="ctrl-btn" onclick="curtainCmd('CLOSE')">ƒê√≥ng</button>
      </div>
      <p class="curtain-info">
        Tr·∫°ng th√°i: <span id="curtain-mode-label">--</span> ‚Äî 
        <span id="curtain-percent">-- %</span>
      </p>
    </section>

    <!-- ============================
         AUTO MODE (NEW)
    ============================= -->
    <section class="card">
      <h2>Ch·∫ø ƒë·ªô t·ª± ƒë·ªông (Auto Mode)</h2>

      <button class="ctrl-btn wide" onclick="toggleAutoMode()">B·∫≠t / T·∫Øt Auto Mode</button>

      <h3 style="margin-top:20px">C·∫•u h√¨nh ng∆∞·ª°ng</h3>

      <div class="auto-grid">
        <label>Nhi·ªát ƒë·ªô min: <input id="tempMin" type="number"></label>
        <label>Nhi·ªát ƒë·ªô max: <input id="tempMax" type="number"></label>

        <label>√Ånh s√°ng min: <input id="lightMin" type="number"></label>
        <label>√Ånh s√°ng max: <input id="lightMax" type="number"></label>

        <label>ƒê·ªô ·∫©m min: <input id="humMin" type="number"></label>
        <label>ƒê·ªô ·∫©m max: <input id="humMax" type="number"></label>
      </div>

      <button class="ctrl-btn wide" onclick="saveAutoConfig()">L∆∞u c·∫•u h√¨nh</button>
    </section>

    <!-- ============================
         BI·ªÇU ƒê·ªí + L·ªäCH S·ª¨
    ============================= -->
    <section class="card">
      <h2>B√°o c√°o th·ªëng k√™</h2>

      <canvas id="chartTemp" height="120"></canvas>
      <canvas id="chartHum" height="120" style="margin-top:20px"></canvas>
      <canvas id="chartLux" height="120" style="margin-top:20px"></canvas>

      <h3 style="margin-top:30px">L·ªãch s·ª≠ 10 b·∫£n ghi g·∫ßn nh·∫•t</h3>
      <table id="historyTable">
        <thead>
          <tr>
            <th>Th·ªùi gian</th>
            <th>Nhi·ªát ƒë·ªô</th>
            <th>ƒê·ªô ·∫©m</th>
            <th>√Ånh s√°ng</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

  </div>

  <script src="script.js"></script>
</body>
</html>
